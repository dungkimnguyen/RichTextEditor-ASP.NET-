[
  {
    "Id": "101634",
    "ThreadId": "30522",
    "Html": "Hi all,<br>\r\n<br>\r\nThe project I'm currently working on uses the WCSF and I'd like to implement the RTE as a means to enter messages to the user.&nbsp; <br>\r\n<br>\r\nUnfortunately, I've been having major difficulties in getting the page Presenter to read the RTE Text property after editing.&nbsp; Due to design decisions, each Presenter has a page helper which implements various interfaces for handling events and neither the RTE&nbsp; nor the View is not directly viewable from this helper.<br>\r\n<br>\r\nI've managed to use delegates to access the page code-behind but when it attempts to access the rte.Text propery I get the following error message:<br>\r\n<blockquote>'rteServiceDeliveryMessage.Text' threw an exception of type 'System.Web.HttpException'<br>\r\n&quot;Request is not available in this context&quot;<br>\r\n</blockquote>Can anyone help with this problem?<br>\r\n<br>\r\nI understand that due to the implementation of the WCSF and the page helper this is a unique situation - but any kind of work-around would be much appreciated.<br>\r\n<br>\r\nThanks very much in advance,<br>\r\n<br>\r\nGreg<br>\r\n",
    "PostedDate": "2008-06-30T08:48:24.187-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "101656",
    "ThreadId": "30522",
    "Html": "Hi Greg,<br>\r\n<br>\r\nI have a few quick questions that may help narrow down the cause. Do you happen to be running on Vista? Does the RTE control work for you in a simple web application? Would you be willing to provide the call stack/trace for the error? Could you also post a short code example that causes the error?<br>\r\n<br>\r\nThanks,<br>\r\nRob<br>\r\n",
    "PostedDate": "2008-06-30T10:02:50.083-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "101806",
    "ThreadId": "30522",
    "Html": "Hi Rob,&nbsp; I've filled what I can below:<br>\r\n<div style=\"border-right:medium none;padding-right:0.2em;border-top:#aaa 0.1em dotted;padding-left:0.2em;padding-bottom:0.2em;margin:1em 0em 2.5em 3em;border-left:medium none;padding-top:0.2em;border-bottom:#aaa 0.1em dotted;font-style:italic\"><br>\r\n&nbsp;Do you happen to be running on Vista?&nbsp;&nbsp;&nbsp;<strong> No.</strong><br>\r\nDoes the RTE control work for you in a simple web application?&nbsp;&nbsp; <strong>Yes</strong><br>\r\nWould you be willing to provide the call stack/trace for the error? <strong>Below</strong><br>\r\nCould you also post a short code example that causes the error?<br>\r\n<br>\r\n</div>\r\n<br>\r\nCall Stack:<br>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">&nbsp;</p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">RichTextEditor.DLL!AjaxControls.RichTextEditor.Text.get() Line 53<span style=\"\">&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">App_Web_h8b80eqx.dll!UserManagement_Options.GetRTEServiceDeliveryMessage() Line 148 + 0xd bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">UserManagement.DLL!ProjectNamespace.Website.UserManagement.Views.OptionsPresenter.PageHelper.HandleSaveButton(ProjectNamespace.Common.Ajax.Facilitator.EventInfo pr_EventInfo = {ProjectNamespace.Common.Ajax.Facilitator.EventInfo}, ProjectNamespace.Common.Ajax.Facilitator.Response pr_Response = {ProjectNamespace.Common.Ajax.Facilitator.Response}) Line 382 + 0xe bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">UserManagement.DLL!ProjectNamespace.Website.UserManagement.Views.OptionsPresenter.PageHelper.ProjectNamespace.Common.Ajax.Facilitator.IConfirmHandler.HandleConfirm(string pr_Context = &quot;ConfirmSave&quot;, bool pr_Result = true, ProjectNamespace.Common.Ajax.Facilitator.ControlInfoCollection pr_AssociatedControls = {ProjectNamespace.Common.Ajax.Facilitator.ControlInfoCollection}, ProjectNamespace.Common.Ajax.Facilitator.Response pr_Response = {ProjectNamespace.Common.Ajax.Facilitator.Response}) Line 232 + 0xf bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">ProjectNamespace.Common.DLL!ProjectNamespace.Common.Ajax.Facilitator.Facilitator.HandleCommand(string pr_Command = &quot;ConfirmResponse&quot;) Line 412 + 0x27 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">ProjectNamespace.Common.DLL!ProjectNamespace.Common.Ajax.Facilitator.FacilitatorHttpHandler.ProcessRequest(System.Web.HttpContext context = {System.Web.HttpContext}) Line 120 + 0xd bytes<span style=\"\">&nbsp; </span>C#&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() + 0x167 bytes<span style=\"\">&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpApplication.ExecuteStep(System.Web.HttpApplication.IExecutionStep step = {System.Web.HttpApplication.CallHandlerExecutionStep}, ref bool completedSynchronously = true) + 0x41 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpApplication.ApplicationStepManager.ResumeSteps(System.Exception error) + 0x1b3 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest(System.Web.HttpContext context, System.AsyncCallback cb, object extraData) + 0x8e bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpRuntime.ProcessRequestInternal(System.Web.HttpWorkerRequest wr = {Microsoft.VisualStudio.WebHost.Request}) + 0x1b5 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpRuntime.ProcessRequestNoDemand(System.Web.HttpWorkerRequest wr) + 0x62 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">System.Web.dll!System.Web.HttpRuntime.ProcessRequest(System.Web.HttpWorkerRequest wr) + 0x38 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">WebDev.WebHost.dll!Microsoft.VisualStudio.WebHost.Request.Process() + 0x113 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">WebDev.WebHost.dll!Microsoft.VisualStudio.WebHost.Host.ProcessRequest(Microsoft.VisualStudio.WebHost.Connection conn = {System.Runtime.Remoting.Proxies.__TransparentProxy}) + 0x5c bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">[Appdomain Transition]<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">WebDev.WebHost.dll!Microsoft.VisualStudio.WebHost.Server.OnSocketAccept(object acceptedSocket) + 0x86 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">mscorlib.dll!System.Threading._ThreadPoolWaitCallback.WaitCallback_Context(object state) + 0x1a bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state) + 0x81 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">mscorlib.dll!System.Threading._ThreadPoolWaitCallback.PerformWaitCallbackInternal(System.Threading._ThreadPoolWaitCallback tpWaitCallBack) + 0x50 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n<p class=MsoNormal style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:8pt\">mscorlib.dll!System.Threading._ThreadPoolWaitCallback.PerformWaitCallback(object state) + 0x60 bytes<span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p>\r\n</span>&nbsp;<br>\r\nI've added a try catch to the Text property in Rte.cs so that may skew the top line number there.&nbsp; <br>\r\nThe error actually occurs on line 47 when <strong>this.Page.Request </strong>gives the error:&nbsp;'this.Page.Request' threw an exception of type 'System.Web.HttpException'.<br>\r\n<br>\r\nI'm also fairly sure I've set up the RTE correctly as I can assign text to it from the Presenter via the View on load.<br>\r\n<br>\r\nEven if this error doesn't make sense, ideas for a workaround are more than welcome - I've exhausted all my own ideas and deadlines are drawing near!<br>\r\n<br>\r\nCheers,<br>\r\nGreg\r\n",
    "PostedDate": "2008-07-01T00:49:17.887-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "101947",
    "ThreadId": "30522",
    "Html": "<p>Don't know for sure what&nbsp;the error&nbsp;is, but here is a list of what may be things that may help you figure out what's going on.<br>\r\n<br>\r\n1) The text property is passed from the Javascript code over to the server side via httpRequest/Response.<br>\r\n2) Html tagging is passed which may trigger page validation to throw an exception due to potential security alert.<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a) if this either switch page validation off or write a filter to make the rte data &quot;risk free&quot;<br>\r\n3) If you can step your debugger to an arrea which allows you to view the Page object in your locals tab, it may be possible to inspect the htmlRequest/Response to see if the rte data has reached it.&nbsp; NOTE: debug after postback of RTE.<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The debuger/locals path to the page request is:<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page/Request/Form<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Look at the AllKeys property.&nbsp; Somewhere in there, the editor should put an id that ends with '$editor' .&nbsp; If it's there check it's value, does it contain the expected HTML?<br>\r\n<br>\r\n&nbsp; If there's no '..some stuff...$editor' key in the request, the problem could be that the editor's CopyText javascript function.&nbsp; This needs to be called in order to pass the data from client to server.&nbsp; I call it by setting this in my page load:<br>\r\n<span style=\"font-size:13px\">Page.Form.Attributes.Add(</span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">&quot;onSubmit&quot;</span></span><span style=\"font-size:13px\">, </span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">&quot;CopyText(); return true;&quot;</span></span><span style=\"font-size:13px\">)\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p>you may need to do something different depending on your special circumstances.<br>\r\n<br>\r\nI hope some of this info helps you find a solution.</p>\r\n",
    "PostedDate": "2008-07-01T11:41:10.623-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "102118",
    "ThreadId": "30522",
    "Html": "Rob &amp; mrfinger,<br>\r\n<br>\r\nI've come to conclusion that the problem isn't with the RTE itself but the implementation of the WCSF, the internal central nervous system we call the Facilitator and other design decisions.<br>\r\n<br>\r\nI've found a workaround solution where I wrapped the save button in a div that fired a JS script on mouse-over.&nbsp; This script took the text from the RTE and copied it to a .net Hidden control.<br>\r\nThe Hidden control was passed back to the Presenter via the View and the text was read from the View where necessary.<br>\r\n<br>\r\nCheers for your help guys - it's always very much appreciated!<br>\r\n<br>\r\nGreg<br>\r\n",
    "PostedDate": "2008-07-02T04:39:15.887-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]